<!DOCTYPE html>
<html lang="en">
    {% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Головна</title>
    <!-- Підключення Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static '/css/main.css' %}">
    <link rel="stylesheet" href="{% static '/css/global.css' %}">
    <link rel="icon" type="image/png" href="{% static '/images/favicon.png' %}">
</head>
<body>
    <!-- Навігаційна панель Bootstrap -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light" id="nav-bar">
        <a class="navbar-brand" href="/">
            <img id="main_logo" class="{% if not user.is_authenticated %}not-authenticated{% endif %}" src="{% static '/images/logo.gif' %}">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item {% if request.path == '/' %}active{% endif %}">
                    <a class="nav-link" href="/">
                        <img src="{% if request.path == '/' %}{% static '/images/active-home-icon.svg'%}{% else %}{% static '/images/home-icon.svg' %}{% endif %}" alt = "Головна" class = "nav-icon"> Головна

                    </a>
                </li>
                <li class="nav-item {% if request.path == '/airplanes/' %}active{% endif %}">
                    <a class="nav-link" href="/airplanes/">
                        <img src="{% if request.path == '/airplanes/' %}{% static '/images/active-airplane-icon.png' %}{% else %}{% static '/images/airplane-icon.png' %}{% endif %}" alt="Авіаквитки" class="nav-icon"> Авіаквитки
                    </a>
                </li>
                <li class="nav-item {% if request.path == '/trains/' %}active{% endif %}">
                    <a class="nav-link" href="/trains/">
                        <img src="{% if request.path == '/trains/' %}{% static '/images/active-train-icon.png' %}{% else %}{% static '/images/train-icon.png' %}{% endif %}" alt="Потяги" class="nav-icon"> Потяги
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="https://www.booking.com/" target="_blank">
                        <img src="{% static '/images/hotel-icon.png' %}" alt="Готелі" class="nav-icon"> Готелі
                    </a>
                </li>
            </ul>

            <div class="our_contacts">
              <a>Наші контакти</a>
            </div>

                <div class="selector_language">
                <div class="container mt-5">
                    <div class="row justify-content-center">
                      <div class="col-md-50">
                        <div class="input-group mb-3">
                          <div class="input-group-prepend ">
                            <!-- Власне зображення глобуса -->
                            <span class="input-group-text"><img src="/static/images/ukrainian_flag.svg" width="24" height="24" alt="Globe" width="24" height="24"></span>
                          </div>
                          <select class="custom-select" id="language-select">

                            <option value="ua">Українська</option>
                            <option value="en">Англійська</option>
                            <!-- Додайте інші мови за потребою -->
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

        </div>
        {% if user.is_authenticated %}
        <!-- Зображення-кнопка для автентифікованого користувача -->
        <img src="{% static 'images/shopping-cart.png' %}" style="margin-right: 20px; margin-left: 10px;" alt="Shopping-cart">
        <img src="{% static 'images/cabinet.png' %}" style="margin-right: 30px;" alt="Cabinet">
    {% else %}
    <script>
      // Визначте функцію register_page
      function register_page() {
        var url = "http://127.0.0.1:8000/register/"; // Встановіть потрібний URL тут
        window.location.href = url;
      }
    </script>
        <button onclick="register_page()" class="register-link">Зареєструватись</button> 
    {% endif %}
        
    </nav>
    
    <form id="sub_form" action="{% url 'subscribe' %}" method="post">
      {% csrf_token %}
      <div id="popup" class="popup" >
          <div class="popup-content">
              <span class="close" onclick="closePopup()">&times;</span>
              <h2>Підписатись на розсилку</h2>
              <p>Підпишіться на розсилку і отримайте знижку 30% на першу подорож</p>
              <input type="email" id="email" name="email" placeholder="Введіть свою пошту" required>
              <button onclick="saveToLocalStorage()" id="sub_button" type="submit" >Підписатись</button>
          </div>
      </div>
    </form>


  
    <div class="info-top">
      <h1>Купити квитки в подорож просто</h1>
      <h2>Запрошуємо вас в світ подорожей з <strong>Journey.ua</strong> - вашим надійним партнером у плануванні. Потяги, літаки та готелі - все на одному сайті</h2>

  </div>

  <div class="image_train_download">
    <img class="train-image" src="{% static 'images/rapid-train.jpg' %}">
    <img class="train-image_socials" src="{% static 'images/appstore.webp' %}">
    <img class="train-image_socials" src="{% static 'images/playmarket.webp' %}">
    <h1 style="font-size: 30px; position: absolute; color: #ffffff; margin-left: 380px; margin-top: 50px;">Отримайте швидший та зручніший <br>доступ через телефон</h1>
    <h2 style="font-size: 21px; position: absolute; color: #dadada; margin-left: 380px; margin-top: 130px;">Завантажте наш застосунок для всіх платформ</h2>
  </div>

  
  <div class="info_preferences">
    <div class="image-text-wrapper">
      <div class="image-text-container">
        <img src="{% static 'images/fast-time.png' %}" alt="Fast Time"> 
        <h2 style="margin-top: -90px; margin-left: 320px; font-size: 20px;">
          Гарантія безпеки <br> та впевненості
        </h2>
        <p style="margin-top: 50px;">На нашому сервісі можна здійснити безкоштовне бронювання квитка з можливістю оплати при посадці. Ми гарантуємо безпеку кожного етапу вашої подорожі: від створення бронювання до моменту вашого посадження в автобус. Після оформлення квитка наш менеджер зв'яжеться з вами для підтвердження замовлення.</p>
      </div>
      <div class="image-text-container">
        <img src="{% static 'images/lamp.png' %}" alt="Lamp">
        <h2 style="margin-top: -90px; margin-left: 300px; font-size: 20px;">
          Прямі тарифи від <br> перевізників 
        </h2>
        <p style="margin-top: 50px;">Усі ціни на нашому веб-сайті чесні та прозорі, без жодних прихованих націнок чи комісій. Завдяки прямим угодам з перевізниками ви можете придбати квиток за найнижчою ціною, а також отримати знижку на дитячий квиток до 70% (в залежності від перевізника). З Journey ви завжди можете бути впевнені, що отримали квиток за найкращою ціною!</p>
      </div>
      <div class="image-text-container">
        <img src="{% static 'images/shield.png' %}" alt="Shield">
        <h2 style="margin-top: -90px; margin-left: 350px; font-size: 20px;">
          Комфорт і швидкість<br> обслуговування
        </h2>
        <p style="margin-top: 50px;">Оформити бронювання можна всього за кілька хвилин самостійно або зателефонувавши до нашого контакт-центру, щоб разом з менеджером підібрати рейс, який найкраще підходить вам. У разі потреби, квиток можна легко повернути в особистому кабінеті або через контакт-центр. Бронюйте швидко та зручно, без черг та заморочок.</p>
      </div>
    </div>
  </div>
  

  <div class="popular_directories">
    <h1 style="margin-left: 280px;  margin-top: 200px;font-size: 35px;">Популярні напрямки</h1>
    <div class="popular-destinations">
      <div class="destination-row">
        <div style="margin-left: 200px; margin-top: 30px;"class="destination">
          <img src="/static/images/warsaw.jpg" alt="Destination 1">
          <div class="destination-info">
            <p><strong>Звідки:</strong> Львів</p>
            <p><strong>Куди:</strong> Варшава</p>
          </div>
        </div>
        <div class="destination-row">
          <div style="margin-left: 450px; margin-top: -450px;"class="destination">
            <img src="/static/images/lviv.jpg" alt="Destination 1">
            <div class="destination-info">
              <p><strong>Звідки:</strong> Вроцлав</p>
              <p><strong>Куди:</strong> Львів</p>
            </div>
          </div>
          <div class="destination-row">
            <div style="margin-left: 700px; margin-top: -450px;"class="destination">
              <img src="/static/images/dnipro.jpg" alt="Destination 1">
              <div class="destination-info">
                <p><strong>Звідки:</strong> Київ</p>
                <p><strong>Куди:</strong> Дніпро</p>
              </div>
            </div>
            <div class="destination-row">
              <div style="margin-left: 950px; margin-top: -450px;"class="destination">
                <img src="/static/images/madrid.jpg" alt="Destination 1">
                <div class="destination-info">
                  <p><strong>Звідки:</strong> Київ</p>
                  <p><strong>Куди:</strong> Мадрид</p>
                </div>
              </div>
              <div class="destination-row">
                <div style="margin-left: 1200px; margin-top: -450px;"class="destination">
                  <img src="/static/images/paris.jpg" alt="Destination 1">
                  <div class="destination-info">
                    <p><strong>Звідки:</strong> Львів</p>
                    <p><strong>Куди:</strong> Париж</p>
                  </div>
                </div>
                <div class="destination-row">
                  <div style="margin-left: 1450px; margin-top: -450px;"class="destination">
                    <img src="/static/images/rome.jpg" alt="Destination 1">
                    <div class="destination-info">
                      <p><strong>Звідки:</strong> Франківськ</p>
                      <p><strong>Куди:</strong> Рим</p>
                    </div>
                  </div>
                  <div class="destination-row">
                    <div style="margin-left: 200px; margin-top: 50px;"class="destination">
                      <img src="/static/images/kyiv.jpg" alt="Destination 1">
                      <div class="destination-info">
                        <p><strong>Звідки:</strong> Львів</p>
                        <p><strong>Куди:</strong> Київ</p>
                      </div>
                    </div>
                    <div class="destination-row">
                      <div style="margin-left: 450px; margin-top: -450px;"class="destination">
                        <img src="/static/images/berlin.jpg" alt="Destination 1">
                        <div class="destination-info">
                          <p><strong>Звідки:</strong> Київ</p>
                          <p><strong>Куди:</strong> Берлін</p>
                        </div>
                      </div>
                      <div class="destination-row">
                        <div style="margin-left: 700px; margin-top: -450px;"class="destination">
                          <img src="/static/images/stambul.jpg" alt="Destination 1">
                          <div class="destination-info">
                            <p><strong>Звідки:</strong> Львів</p>
                            <p><strong>Куди:</strong> Стамбул</p>
                          </div>
                        </div>
                        <div class="destination-row">
                          <div style="margin-left: 950px; margin-top: -450px;"class="destination">
                            <img src="/static/images/rome.jpg" alt="Destination 1">
                            <div class="destination-info">
                              <p><strong>Звідки:</strong> Рим</p>
                              <p><strong>Куди:</strong> Рим</p>
                            </div>
                          </div>
                          <div class="destination-row">
                            <div style="margin-left: 1200px; margin-top: -450px;"class="destination">
                              <img src="/static/images/frankivsk.jpg" alt="Destination 1">
                              <div class="destination-info">
                                <p><strong>Звідки:</strong> Варшава</p>
                                <p><strong>Куди:</strong> Франківськ</p>
                              </div>
                            </div>
                            <div class="destination-row">
                              <div style="margin-left: 1450px; margin-top: -450px ;"class="destination">
                                <img src="/static/images/kyiv.jpg" alt="Destination 1">
                                <div class="destination-info">
                                  <p><strong>Звідки:</strong> Ужгород</p>
                                  <p><strong>Куди:</strong> Київ</p>
                                </div>
                              </div>
                  
      </div>
    </div>


    <footer class="footer">
      <div style="margin-top: 50px;" class="footer-content">
          <p>&copy; 2024 Journey.ua Усі права захищені.</p>
      </div>
  </footer>
  
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
<script>

// Отримуємо всі елементи з класом "train-image"
const trainImages = document.querySelectorAll('.train-image');

// Масив з посиланнями на зображення
const imageSources = [
    "{% static 'images/rapid-train.jpg' %}",
    "{% static 'images/rapid-hotel.jpg' %}",
    "{% static 'images/rapid-plane.jpg' %}",
    "{% static 'images/rapid-train1.jpg' %}",
    "{% static 'images/rapid-hotel1.jpg' %}",
    "{% static 'images/rapid-plane1.jpg' %}",
    "{% static 'images/rapid-train2.jpg' %}",
    "{% static 'images/rapid-plane2.jpg' %}",
    "{% static 'images/rapid-hotel2.jpg' %}"
];

// Поточний індекс зображення
let currentIndex = 0;

// Функція для зміни зображення кожні 3 секунди з анімацією
function changeImage() {
    // Змінюємо opacity для зображень з класом "train-image"
    trainImages.forEach((image, index) => {
        setTimeout(() => {
            image.style.opacity = 0;
            setTimeout(() => {
                image.src = imageSources[currentIndex];
                image.style.opacity = 1;
            }, 500); // Затримка перед зміною зображення
        }, index * 200); // Затримка для кожного зображення, щоб анімація була послідовною
    });

    // Збільшуємо індекс або переходимо на початок, якщо досягли кінця масиву
    currentIndex = (currentIndex + 1) % imageSources.length;
}

// Встановлюємо інтервал для функції зміни зображення
setInterval(changeImage, 3000);



  document.addEventListener("DOMContentLoaded", function() {
    // Перевірка, чи існує кука "subbed" і її значення
    var isSubbed = getCookie("subbed");

    // Перевірка, чи кука існує і має значення "true"
    if (isSubbed === "true") {
        // Якщо користувач підписаний, сховати форму або виконати інші дії
        document.getElementById("sub_form").style.display = "none";
    }
});

// Функція для отримання значення куки за її іменем
function getCookie(name) {
    var nameEQ = name + "=";
    var cookies = document.cookie.split(';');
    for(var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i];
        while (cookie.charAt(0) === ' ') {
            cookie = cookie.substring(1, cookie.length);
        }
        if (cookie.indexOf(nameEQ) === 0) {
            return cookie.substring(nameEQ.length, cookie.length);
        }
    }
    return null;
}





    document.getElementById('language-select').addEventListener('change', function() {
        var flagImg = document.querySelector('.input-group-text img');
        var selectedLanguage = this.value;
        
        // Оновлення зображення прапора залежно від вибраної мови
        switch(selectedLanguage) {
          case 'ua':
            flagImg.src = '/static/images/ukrainian_flag.svg';
            break;
          case 'en':
            flagImg.src = '/static/images/flag_en.svg'; // Припустимо, що у вас є окремі зображення прапорів для кожної мови
            break;

        }
      });

// Отримуємо всі елементи з класом .tickets_info
var ticketInputs = document.querySelectorAll('.tickets_info');

// Об'являємо змінну для збереження значення радіусів границі до фокусу
var previousBorderRadius;

// Перебираємо отримані елементи
ticketInputs.forEach(function(input) {
  // Додаємо подію фокусу
  input.addEventListener('focus', function() {
    // Зберігаємо поточні значення радіусів границі
    previousBorderRadius = {
      borderTopRightRadius: input.style.borderTopRightRadius,
      borderBottomRightRadius: input.style.borderBottomRightRadius,
      borderTopLeftRadius: input.style.borderTopLeftRadius,
      borderBottomLeftRadius: input.style.borderBottomLeftRadius
    };
    // Змінюємо стиль при отриманні фокусу
    input.style.borderTopRightRadius = '10px';
    input.style.borderBottomRightRadius = '10px';
    input.style.borderTopLeftRadius = '10px';
    input.style.borderBottomLeftRadius = '10px';
    input.style.borderColor = '#007acc';
  });

  // Додаємо подію зняття фокусу
  input.addEventListener('blur', function() {
    // Повертаємо радіуси границі до попередніх значень при втраті фокусу
    input.style.borderTopRightRadius = previousBorderRadius.borderTopRightRadius;
    input.style.borderBottomRightRadius = previousBorderRadius.borderBottomRightRadius;
    input.style.borderTopLeftRadius = previousBorderRadius.borderTopLeftRadius;
    input.style.borderBottomLeftRadius = previousBorderRadius.borderBottomLeftRadius;
    input.style.borderColor = '';
  });
});


// JavaScript (script.js):
document.addEventListener("DOMContentLoaded", function() {
  openPopup();
});

// Вибір вспливаючого вікна за ID
var popup = document.getElementById('popup');

// Відкриття вспливаючого вікна
function openPopup() {
  popup.style.display = 'block';
}

// Закриття вспливаючого вікна
function closePopup() {
  popup.style.display = 'none';
}





</script>

</html>
